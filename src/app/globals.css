@tailwind base;
@tailwind components;
@tailwind utilities;

/* ============================================================
   BASE & RESET
   ============================================================ */
@layer base {
  :root {
    --navy: #0a192f;
    --navy-light: #112240;
    --navy-lighter: #1d3461;
    --green-accent: #64ffda;
    --slate: #8892b0;
    --slate-light: #a8b2d1;
    --slate-lightest: #ccd6f6;
  }

  html {
    scroll-behavior: smooth;
    scroll-padding-top: 80px;
  }

  body {
    @apply bg-navy text-slate font-sans antialiased;
    overflow-x: hidden;
  }

  /* Text selection */
  ::selection {
    background-color: var(--green-accent);
    color: var(--navy);
  }

  ::-moz-selection {
    background-color: var(--green-accent);
    color: var(--navy);
  }

  /* Custom scrollbar */
  ::-webkit-scrollbar {
    width: 8px;
    height: 8px;
  }

  ::-webkit-scrollbar-track {
    background: var(--navy);
  }

  ::-webkit-scrollbar-thumb {
    background: var(--navy-lighter);
    border-radius: 4px;
    border: 2px solid var(--navy);
  }

  ::-webkit-scrollbar-thumb:hover {
    background: var(--slate);
  }

  /* Firefox scrollbar */
  * {
    scrollbar-width: thin;
    scrollbar-color: var(--navy-lighter) var(--navy);
  }
}

/* ============================================================
   TYPOGRAPHY
   ============================================================ */
@layer base {
  h1, h2, h3, h4, h5, h6 {
    @apply text-slate-lightest;
  }

  a {
    @apply transition-colors duration-200;
  }

  p {
    @apply leading-relaxed;
  }
}

/* ============================================================
   NUMBERED NAV LINKS
   Renders a green mono number before the nav text
   Usage: class="nav-link" with data-number="01."
   ============================================================ */
@layer components {
  .nav-link-numbered {
    @apply relative font-mono text-sm;
  }

  .nav-link-numbered .nav-number {
    @apply text-green-accent text-xs mr-1 font-mono;
  }

  .nav-link-numbered .nav-text {
    @apply text-slate-lightest;
  }

  .nav-link-numbered:hover .nav-text,
  .nav-link-numbered.active .nav-text {
    @apply text-green-accent;
  }
}

/* ============================================================
   SECTION FADE-IN ANIMATION UTILITY
   Apply .section-fade to any section that should animate in.
   The IntersectionObserver in your components adds .visible.
   ============================================================ */
@layer utilities {
  .section-fade {
    opacity: 0;
    transform: translateY(24px);
    transition: opacity 0.6s cubic-bezier(0.4, 0, 0.2, 1),
                transform 0.6s cubic-bezier(0.4, 0, 0.2, 1);
  }

  .section-fade.visible {
    opacity: 1;
    transform: translateY(0);
  }

  /* Staggered children â€” add delay via CSS custom property */
  .section-fade-child {
    opacity: 0;
    transform: translateY(20px);
    transition: opacity 0.5s cubic-bezier(0.4, 0, 0.2, 1) var(--delay, 0ms),
                transform 0.5s cubic-bezier(0.4, 0, 0.2, 1) var(--delay, 0ms);
  }

  .section-fade-child.visible {
    opacity: 1;
    transform: translateY(0);
  }
}

/* ============================================================
   GRADIENT UTILITIES
   ============================================================ */
@layer utilities {
  .gradient-green-text {
    background: linear-gradient(135deg, #64ffda 0%, #a8b2d1 100%);
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    background-clip: text;
  }

  .navy-gradient-overlay {
    background: linear-gradient(
      to bottom,
      transparent 0%,
      var(--navy) 100%
    );
  }
}

/* ============================================================
   CODE / MONO ELEMENTS
   ============================================================ */
@layer base {
  code, kbd, samp, pre {
    @apply font-mono text-green-accent;
  }
}

/* ============================================================
   FOCUS STYLES (accessible, branded)
   ============================================================ */
@layer base {
  :focus-visible {
    outline: 2px solid var(--green-accent);
    outline-offset: 3px;
    border-radius: 2px;
  }
}
